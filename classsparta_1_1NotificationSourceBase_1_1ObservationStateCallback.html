<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Sparta Modeling Framework: sparta::NotificationSourceBase::ObservationStateCallback Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The Sparta Modeling Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sparta::NotificationSourceBase::ObservationStateCallback Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Callback for observation-state of a <a class="el" href="classsparta_1_1NotificationSourceBase.html" title="A TreeNode that generates a single specific type of notification which propagates up a tree of TreeNo...">NotificationSourceBase</a>.  
 <a href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="NotificationSource_8hpp_source.html">NotificationSource.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5810049003c2e5f178654011040c9c13"><td class="memItemLeft" align="right" valign="top"><a id="a5810049003c2e5f178654011040c9c13"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ObservationStateCallback</b> (<a class="el" href="classsparta_1_1NotificationSourceBase.html">NotificationSourceBase</a> &amp;ns, <a class="el" href="classsparta_1_1NotificationSourceBase.html#a6ad355b5a3865f40b6f2a62442a5240e">ObservationStateChange</a> type, <a class="el" href="classsparta_1_1NotificationSourceBase.html#a180527ca89400a7ef8b1b8cebc3127a3">callback_t</a> callback)</td></tr>
<tr class="separator:a5810049003c2e5f178654011040c9c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3b626a834ad44249f7d9459a6126f8"><td class="memItemLeft" align="right" valign="top"><a id="a6d3b626a834ad44249f7d9459a6126f8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ObservationStateCallback</b> (const <a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html">ObservationStateCallback</a> &amp;)=delete</td></tr>
<tr class="separator:a6d3b626a834ad44249f7d9459a6126f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5957c75c4df9b4019fe10afc3db59a37"><td class="memItemLeft" align="right" valign="top"><a id="a5957c75c4df9b4019fe10afc3db59a37"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ObservationStateCallback</b> (<a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html">ObservationStateCallback</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a5957c75c4df9b4019fe10afc3db59a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e6f02c08064c0977238993271fbff2"><td class="memItemLeft" align="right" valign="top"><a id="a07e6f02c08064c0977238993271fbff2"></a>
<a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html">ObservationStateCallback</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html">ObservationStateCallback</a> &amp;)=delete</td></tr>
<tr class="separator:a07e6f02c08064c0977238993271fbff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe793297a9f0fefaf7100c0c166ed48e"><td class="memItemLeft" align="right" valign="top"><a id="abe793297a9f0fefaf7100c0c166ed48e"></a>
<a class="el" href="classsparta_1_1NotificationSourceBase.html#a6ad355b5a3865f40b6f2a62442a5240e">ObservationStateChange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html#abe793297a9f0fefaf7100c0c166ed48e">getType</a> () const</td></tr>
<tr class="memdesc:abe793297a9f0fefaf7100c0c166ed48e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get tyhe type of change associated with this callback instance. <br /></td></tr>
<tr class="separator:abe793297a9f0fefaf7100c0c166ed48e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2efed30aff96bceca6a5ab6ab3687486"><td class="memItemLeft" align="right" valign="top"><a id="a2efed30aff96bceca6a5ab6ab3687486"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html#a2efed30aff96bceca6a5ab6ab3687486">operator()</a> (<a class="el" href="classsparta_1_1NotificationSourceBase.html">NotificationSourceBase</a> const &amp;ns, uint32_t observers) const</td></tr>
<tr class="memdesc:a2efed30aff96bceca6a5ab6ab3687486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked the callback function. <br /></td></tr>
<tr class="separator:a2efed30aff96bceca6a5ab6ab3687486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab471a88ec59925b5b20a09c3562182ff"><td class="memItemLeft" align="right" valign="top"><a id="ab471a88ec59925b5b20a09c3562182ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html#ab471a88ec59925b5b20a09c3562182ff">dump</a> (std::ostream &amp;o) const</td></tr>
<tr class="memdesc:ab471a88ec59925b5b20a09c3562182ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump string description to an ostream. <br /></td></tr>
<tr class="separator:ab471a88ec59925b5b20a09c3562182ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Callback for observation-state of a <a class="el" href="classsparta_1_1NotificationSourceBase.html" title="A TreeNode that generates a single specific type of notification which propagates up a tree of TreeNo...">NotificationSourceBase</a>. </p>
<p>Use this to monitor changes in the observation state of a <a class="el" href="classsparta_1_1NotificationSource.html" title="A TreeNode that generates a specific type of notification which propagates up a tree of TreeNodes (us...">NotificationSource</a> and bind some change to a callable. This object automatically binds the callback function to the notification source on construction and removes the callback on destruction. If the notification source is destroyed before this callback object, then the callback will never be invoked again and it will not attempt to deregister when eventually destroyed.</p>
<p>The intent of this feature is for some model to monitor the observation of some of its constituent notifications for both their lifetimes (which are hopefully the same). Creating and removing these callbacks throughout a simulation is not expected. An example use case is needing to change the state of a JIT model if someone is now observing some detail of execution (e.g. an instruction executed notification)</p>
<dl class="section warning"><dt>Warning</dt><dd>Do not attempt to create or delete callbacks within an observation state change callback. It will fail. Do not attempt to add or remove a NotificationObservers within a observation state change callback!</dd></dl>
<pre class="fragment">* class X{
* public:
*   NotificationSource&lt;MyPayload&gt; ns;
*   NotificationSource::ObservationStateCallback nscb;
*   MyConstructor(node)
*    : ns(node, ....),
*      nscb(ns, NotificationSourceBase::ObservationStateChange::SOLE_OBSERVER_REGISTERING, handleSoleObserverAdded_)
*   {}
*   void handleSoleObserverAdded_(NotificationSourceBase const &amp; source, uint32_t new_observer_count) {
*   { ... }
* }
*
* </pre><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000045">Todo:</a></b></dt><dd>Add a multi-callback version of this class that handles both sole-[de]registering functions and both any-[de]registering functions</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000046">Todo:</a></b></dt><dd>Aoply this pattern (with code re-use) to <a class="el" href="classsparta_1_1Counter.html" title="Represents a counter of type counter_type (uint64_t). 2 and greater than 0 with a ceiling specified....">Counter</a> types as well so that Counter-incrementing code can change it's behavior and granularity to better support counter-based SPARTA tirggers </dd></dl>

<p class="definition">Definition at line <a class="el" href="NotificationSource_8hpp_source.html#l00160">160</a> of file <a class="el" href="NotificationSource_8hpp_source.html">NotificationSource.hpp</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/sparta/sparta/log/<a class="el" href="NotificationSource_8hpp_source.html">NotificationSource.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesparta.html">sparta</a></li><li class="navelem"><a class="el" href="classsparta_1_1NotificationSourceBase.html">NotificationSourceBase</a></li><li class="navelem"><a class="el" href="classsparta_1_1NotificationSourceBase_1_1ObservationStateCallback.html">ObservationStateCallback</a></li>
    <li class="footer">Generated on Fri Sep 25 2020 04:28:29 for The Sparta Modeling Framework by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
